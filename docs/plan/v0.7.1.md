# v0.7.1: 日数が少ない場合のグラフサイズを調整する

Issue: #16

## 概要

データ（日数・ツール数）が少ない場合、チャートの viewBox が固定サイズ（600×320）のため、バーが過度に幅広くなり視覚的なバランスが悪い。データ量に応じて viewBox 幅を動的に計算し、適切なサイズで描画する。

## 方針

viewBox 幅の動的計算 + CSS max-width による制約。

- 日次チャート: バー1本あたりの最大スロット幅(86px)を定義し、データ数に基づいて viewBox 幅を算出
- ToolUsageChart: ツール数に基づいて viewBox 幅を算出し、barMaxWidth を比例縮小

## タスク

### タスク1: chart-utils に `calcDailyChartWidth` を追加

- `PADDING.left + PADDING.right + dataCount × 86` を `clamp(400, 600)` する関数
- `MAX_BAR_WIDTH = 60` 定数もエクスポート

### タスク2: DailyTokenChart / DailyCostChart に動的幅を適用

- `const WIDTH = 600` → `calcDailyChartWidth(data.length)`
- `barW` に上限 `MAX_BAR_WIDTH` を設定
- wrapper div に `max-width` を追加
- 凡例スペーシングを動的化

### タスク3: ToolUsageChart に動的幅を適用

- ツール数 < 8 のとき viewBox 幅を縮小 (`max(400, round(600 × count / 8))`)
- `barMaxWidth` を `width - BAR_LEFT - 50` で動的算出
- wrapper div に `max-width` を追加
