# v0.9.2: dummy トークンの廃止（issue #2）— ドキュメント修正 + ダッシュボードテスト追加

## Context

CLAUDE.md にダッシュボードへのアクセスとして `?token=dummy` をクエリストリングで渡す記載があるが、コード上にこのクエリパラメータを処理するロジックは存在しない（`src/routes/dashboard.tsx` に認証ミドルウェアなし、`?token` パラメータの読み取りなし）。ドキュメントが実装と乖離しているため修正する。

また、ダッシュボードルート（GET `/`, GET `/session/:id`）にはルートレベルのテストが存在しない。認証なしでアクセスできることを保証するテストを追加する。

**変更しないもの**:
- OTLP API の Bearer Token 認証（`AUTH_TOKEN=dummy` + `Authorization: Bearer dummy`）は本番と同じ仕組みであり維持
- `src/middleware/auth.ts` のコード
- `.dev.vars` の内容

---

### タスク 0: 計画ファイル保存 + 作業ブランチ作成

**変更対象**: `docs/plan/v0.9.2.md`, git branch

---

### タスク 1: ダッシュボードルートのテスト追加

**変更対象**: `src/routes/dashboard.test.ts`（新規作成）

既存パターン（`src/routes/otlp.test.ts`）に倣い、`app.request()` + `env` でテスト:

**受入条件**:
- WHEN GET `/` に認証なしでリクエスト THEN 200 が返る
- WHEN GET `/` のレスポンス THEN Content-Type が text/html を含む
- WHEN GET `/session/nonexistent` に認証なしでリクエスト THEN 404 が返る

---

### タスク 2: CLAUDE.md のドキュメント修正

**変更対象**: `CLAUDE.md`

**修正箇所**:

1. ローカル開発セクション
   - Before: `ダッシュボードへのアクセス: http://localhost:{port}/?token=dummy`
   - After: `ダッシュボードへのアクセス: http://localhost:{port}/`

2. API テストセクション
   - Before:
     ```
     # 認証なしアクセス → 401
     xh --ignore-stdin GET http://localhost:{port}/

     # token 付きダッシュボード → 200
     xh --ignore-stdin GET 'http://localhost:{port}/?token=dummy' --follow
     ```
   - After:
     ```
     # ダッシュボード → 200
     xh --ignore-stdin GET http://localhost:{port}/
     ```

**受入条件**:
- WHEN CLAUDE.md を確認 THEN `?token=dummy` の記述がない
- WHEN CLAUDE.md を確認 THEN `認証なしアクセス → 401` の記述がない
- WHEN CLAUDE.md を確認 THEN ダッシュボードアクセスが `http://localhost:{port}/` になっている
- WHEN CLAUDE.md を確認 THEN OTLP API テスト（Bearer dummy）の記載は維持されている
